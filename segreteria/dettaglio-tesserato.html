<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Dettaglio Tesserato</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase compat 10.12.0 -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    <script src="/firebase-config.js"></script>
</head>
<body>
    <div class="container">
        <h1>Dettaglio Tesserato</h1>
        
        <form id="form-tesserato">
            <fieldset>
                <legend>Anagrafica</legend>
                <input id="nome" placeholder="Nome">
                <input id="cognome" placeholder="Cognome">
                <input id="codice-fiscale" placeholder="Codice Fiscale">
                <input id="data-nascita" type="date" placeholder="Data di Nascita">
                <input id="luogo-nascita" placeholder="Luogo di Nascita">
                <select id="sesso">
                    <option value="">Sesso</option>
                    <option value="M">M</option>
                    <option value="F">F</option>
                </select>
                <input id="nazionalita" placeholder="Nazionalità">
            </fieldset>

            <fieldset>
                <legend>Contatti</legend>
                <input id="indirizzo" placeholder="Indirizzo">
                <input id="citta" placeholder="Città">
                <input id="provincia" placeholder="Provincia">
                <input id="cap" placeholder="CAP">
                <input id="telefono" placeholder="Telefono">
                <input id="email" type="email" placeholder="Email">
            </fieldset>

            <fieldset>
                <legend>Documenti</legend>
                <select id="tipo-documento">
                    <option value="">Tipo Documento</option>
                    <option value="Carta Identità">Carta Identità</option>
                    <option value="Passaporto">Passaporto</option>
                </select>
                <input id="numero-documento" placeholder="Numero Documento">
                <input id="rilasciato-da" placeholder="Rilasciato da">
                <input id="data-rilascio" type="date" placeholder="Data Rilascio">
                <input id="data-scadenza" type="date" placeholder="Data Scadenza">
            </fieldset>

            <fieldset>
                <legend>Tesseramento</legend>
                <input id="data-tesseramento" type="date" placeholder="Data Tesseramento">
                <input id="tipo-tessera" placeholder="Tipo Tessera">
                <input id="numero-tessera" placeholder="Numero Tessera">
                <select id="stato-tessera">
                    <option value="">Stato Tessera</option>
                    <option value="Attiva">Attiva</option>
                    <option value="Scaduta">Scaduta</option>
                </select>
            </fieldset>

            <fieldset>
                <legend>Medica</legend>
                <select id="certificato-medico">
                    <option value="">Certificato Medico</option>
                    <option value="Agonistico">Agonistico</option>
                    <option value="Non Agonistico">Non Agonistico</option>
                </select>
                <input id="data-certificato" type="date" placeholder="Data Certificato">
                <input id="scadenza-certificato" type="date" placeholder="Scadenza Certificato">
                <textarea id="note-mediche" placeholder="Note Mediche"></textarea>
            </fieldset>

            <fieldset>
                <legend>Pagamenti</legend>
                <input id="quota-iscrizione" type="number" placeholder="Quota Iscrizione">
                <input id="data-pagamento" type="date" placeholder="Data Pagamento">
                <select id="metodo-pagamento">
                    <option value="">Metodo</option>
                    <option value="Contanti">Contanti</option>
                    <option value="Bonifico">Bonifico</option>
                    <option value="POS">POS</option>
                </select>
                <select id="stato-pagamento">
                    <option value="">Stato</option>
                    <option value="Pagato">Pagato</option>
                    <option value="Non Pagato">Non Pagato</option>
                </select>
                <textarea id="note-pagamenti" placeholder="Note"></textarea>
            </fieldset>

            <div class="form-actions">
                <button type="button" id="btn-salva" onclick="salvaModificheTesserato()">Salva</button>
                <button type="button" id="btn-annulla" onclick="annullaModifiche()">Annulla</button>
            </div>
        </form>

        <div id="loading-indicator" style="display: none;">Caricamento...</div>
        <div id="feedback-msg" class="feedback-msg"></div>

        <h2>Corsi Attivi</h2>
        <div id="corsi-attuali"></div>
    </div>

    <script src="dettaglio-tesserato.js"></script>
</body>
</html>
